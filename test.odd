import Thread from `async`;
import random from `random`;

class Eater ->
	eat () ->
		print`$name eats.`;

class Pooper ->
	poop () ->
		print`$name poops.`;

class Sleeper ->
	sleep (int seconds) ->
		print`$name sleeps $seconds seconds.`;
		Thread.sleep(seconds);

class Animal (obj args) ->
	is Eater, Pooper, Sleeper;
	str name = args.name;
	int age = 0;
	boo alive = true;

	die () ->
		alive = false;

	live (int max-age = 10) ->
		while alive
			if age > max-age
				die();
			eat();
			poop();
			sleep(10);
			age += 1;

Animal(name: `jeff`)
	.live(Random.int(10));