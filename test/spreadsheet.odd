import `https://oddlang.com/html` as html;

Cell (Number row) (Number col) :: [row, col];

Sheet T :: {
	rows :: List Number,
	columns :: List String,
	selection :: Maybe Cell,
	data :: Map Cell T
};

render-header (List String columns) =
	map (html.th {scope=`col`}) [``, ...columns];

render-header (Number row) =
	html.th {scope=`row`} (html.text row);

render (Sheet sheet) =
	html.table {} ([
		...(render-header sheet.columns),
		for row of sheet.rows ->
			html.tr {} ([
				render-header row,
				for col of sheet.columns ->
					render (Cell row col)
			])
	]);

render (Cell row col) =
	html.td (if includes sheet.data Cell row col
		then {on-click=clicked (Cell row col)} html.text (sheet.data @ Cell row col)
		else {on-click=clicked (Cell row col)} []);

clicked (Cell row col) =
	nothing;

sheet :: Sheet;
sheet = {
	rows = 1..10,
	columns = `A`..`F`,
	selection = nothing,
	data = Map []
};

render sheet;